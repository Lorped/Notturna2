<div>
  <p>
  <mat-toolbar>
    <button mat-icon-button class="example-icon" aria-label="menu" (click)="sidenav.toggle()" >
      <mat-icon>menu</mat-icon>
    </button>
    <span style="font-family:delphian; font-size:1.2em;">NOTTURNA</span>
  </mat-toolbar>
</p>
</div>

<mat-sidenav-container>
  <mat-sidenav class="sidenav" #sidenav mode="side"  >
    <app-sidex></app-sidex>
  </mat-sidenav>
  <mat-sidenav-content>

    <div class="container" style="width: 80%; margin-top: 1em; min-height: 85vh;">
      <p>
      <mat-card>
        <mat-card-title>
          Dati utente
        </mat-card-title>
        <mat-card-content>
        <hr>

        <form  [formGroup]="emailForm" #formDir="ngForm">
        <div class="columns">
          <div class="column is-3">
            <mat-form-field class="full-width-input">
              <input matInput formControlName="newemail" placeholder="Nuova Email" required>
            </mat-form-field>
            <mat-error *ngIf="newemail?.hasError('email') && !newemail?.hasError('required')">Inserire una email valida</mat-error>
            <mat-error *ngIf="newemail?.hasError('emailTaken')">Email già presente</mat-error>
          </div>
          <div class="column">
            <button  mat-raised-button class="large" color="primary" [disabled]="!formDir.form.valid" (click)="changeemail()">Cambia Email</button>
          </div>
        </div>
        </form>


        <form  [formGroup]="pwdForm" #formDir2="ngForm">
        <div class="columns">
          <div class="column is-3">
            <mat-form-field class="full-width-input">
              <input matInput [type]="hide ? 'password' : 'text'" formControlName="password" placeholder="Nuova Password" required >
              <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
            </mat-form-field>
            <mat-error *ngIf="password?.hasError('minlength')">La lunghezza minima è 8 caratteri</mat-error>
          </div>
          <div class="column">
            <button  mat-raised-button class="large" color="primary" [disabled]="!formDir2.form.valid" (click)="changepwd()">Cambia Password</button>
          </div>
        </div>
        </form>

        </mat-card-content>
      </mat-card>
    </div>


  </mat-sidenav-content>
</mat-sidenav-container>
